<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¬ë¯¸ìˆëŠ” ê³±ì…ˆ ë°°ìš°ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Gowun Dodum', sans-serif;
        }
        .control-panel {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
        }
        .item-btn.selected {
            transform: scale(1.1);
            border-color: #3b82f6;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }
        .group-container {
            border: 2px dashed #a78bfa;
            min-height: 80px;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-sky-200 to-indigo-300 min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-4xl mx-auto bg-white/90 rounded-2xl shadow-2xl p-6 md:p-8">
        
        <!-- ì œëª© -->
        <header class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">ì•Œì­ë‹¬ì­ ê³±ì…ˆ, ëˆˆìœ¼ë¡œ ë°°ì›Œë´ìš”! ğŸ­</h1>
            <p class="text-gray-600 mt-2">ê·¸ë¦¼ì„ ì›€ì§ì—¬ë³´ë©° ê³±ì…ˆì˜ ì›ë¦¬ë¥¼ ì‰½ê²Œ ì´í•´í•´ìš”.</p>
        </header>

        <!-- ì»¨íŠ¸ë¡¤ íŒ¨ë„ -->
        <div class="control-panel sticky top-4 z-10 grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 p-4 rounded-xl border border-gray-200 shadow-lg">
            <!-- 1. ì•„ì´í…œ ì„ íƒ -->
            <div>
                <label class="block text-lg font-semibold text-gray-700 mb-2">1. ì–´ë–¤ ê·¸ë¦¼ìœ¼ë¡œ í•´ë³¼ê¹Œìš”?</label>
                <div id="item-selector" class="flex items-center space-x-3 bg-gray-100 p-2 rounded-lg">
                    <button class="item-btn text-4xl p-2 rounded-lg border-4 border-transparent transition-transform" data-item="ğŸ">ğŸ</button>
                    <button class="item-btn text-4xl p-2 rounded-lg border-4 border-transparent transition-transform" data-item="ğŸš—">ğŸš—</button>
                    <button class="item-btn text-4xl p-2 rounded-lg border-4 border-transparent transition-transform" data-item="â­">â­</button>
                    <button class="item-btn text-4xl p-2 rounded-lg border-4 border-transparent transition-transform" data-item="ğŸ¤–">ğŸ¤–</button>
                </div>
            </div>
            <!-- 2. ë¬¶ìŒ ì•ˆì˜ ê°œìˆ˜ -->
            <div>
                <label for="items-per-group" class="block text-lg font-semibold text-gray-700 mb-2">2. í•œ ë¬¶ìŒì— ëª‡ ê°œì”©?</label>
                <div class="flex items-center space-x-2">
                    <input type="range" id="items-per-group" min="1" max="10" value="3" class="w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg">
                    <span id="items-per-group-value" class="text-xl font-bold text-blue-600 w-8 text-center">3</span>
                </div>
            </div>
            <!-- 3. ë¬¶ìŒì˜ ìˆ˜ -->
            <div>
                <label for="number-of-groups" class="block text-lg font-semibold text-gray-700 mb-2">3. ëª‡ ë¬¶ìŒìœ¼ë¡œ í• ê¹Œìš”?</label>
                 <div class="flex items-center space-x-2">
                    <input type="range" id="number-of-groups" min="1" max="10" value="4" class="w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg">
                    <span id="number-of-groups-value" class="text-xl font-bold text-purple-600 w-8 text-center">4</span>
                </div>
            </div>
        </div>

        <!-- ì‹œê°í™” ì˜ì—­ -->
        <div id="visual-display" class="mb-8 p-4 bg-sky-50 rounded-lg min-h-[200px] flex flex-col items-center justify-center">
            <!-- ê·¸ë£¹ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤. -->
        </div>

        <!-- ê²°ê³¼ ì˜ì—­ -->
        <div class="bg-amber-100 border-t-4 border-amber-400 rounded-b-lg p-6 text-center">
            <div class="mb-4">
                <h3 class="text-xl font-semibold text-gray-700 mb-2">ë§ì…ˆìœ¼ë¡œ ë¨¼ì € ì„¸ì–´ë³´ë©´...</h3>
                <p id="addition-result" class="text-2xl md:text-3xl font-bold text-gray-800 bg-white p-3 rounded-lg shadow-inner min-h-[56px] flex items-center justify-center"></p>
            </div>
            <div class="flex items-center justify-center my-4">
                <div class="w-1/4 h-px bg-gray-300"></div>
                <span class="text-2xl mx-4">ğŸ‘‡</span>
                <div class="w-1/4 h-px bg-gray-300"></div>
            </div>
            <div>
                <h3 class="text-xl font-semibold text-green-700 mb-2">ê³±ì…ˆìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ!</h3>
                <p id="multiplication-result" class="text-3xl md:text-4xl font-bold text-green-600 bg-white p-3 rounded-lg shadow-inner min-h-[64px] flex items-center justify-center"></p>
            </div>
        </div>

    </div>

    <script>
        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const itemSelector = document.getElementById('item-selector');
        const itemsPerGroupSlider = document.getElementById('items-per-group');
        const numberOfGroupsSlider = document.getElementById('number-of-groups');
        const itemsPerGroupValue = document.getElementById('items-per-group-value');
        const numberOfGroupsValue = document.getElementById('number-of-groups-value');
        const visualDisplay = document.getElementById('visual-display');
        const additionResult = document.getElementById('addition-result');
        const multiplicationResult = document.getElementById('multiplication-result');

        // ìƒíƒœ ê´€ë¦¬
        let state = {
            selectedItem: 'ğŸ',
            itemsPerGroup: 3,
            numberOfGroups: 4,
        };

        // UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateUI() {
            // ìŠ¬ë¼ì´ë” ê°’ í‘œì‹œ ì—…ë°ì´íŠ¸
            itemsPerGroupValue.textContent = state.itemsPerGroup;
            numberOfGroupsValue.textContent = state.numberOfGroups;

            // ì‹œê°í™” ì˜ì—­ ì—…ë°ì´íŠ¸
            visualDisplay.innerHTML = ''; // ê¸°ì¡´ ë‚´ìš© ì´ˆê¸°í™”
            visualDisplay.classList.add('grid', 'gap-4');
            visualDisplay.style.gridTemplateColumns = `repeat(auto-fit, minmax(120px, 1fr))`;
            
            for (let i = 0; i < state.numberOfGroups; i++) {
                const groupEl = document.createElement('div');
                groupEl.className = 'group-container bg-white/50 rounded-lg p-3 flex flex-wrap justify-center items-center gap-1 shadow-md';
                
                for (let j = 0; j < state.itemsPerGroup; j++) {
                    const itemEl = document.createElement('span');
                    itemEl.className = 'text-3xl';
                    itemEl.textContent = state.selectedItem;
                    groupEl.appendChild(itemEl);
                }
                visualDisplay.appendChild(groupEl);
            }

            // ê²°ê³¼ ì—…ë°ì´íŠ¸
            // ë§ì…ˆì‹ ìƒì„±
            const additionArray = Array(state.numberOfGroups).fill(state.itemsPerGroup);
            const additionString = additionArray.join(' + ');
            const total = state.itemsPerGroup * state.numberOfGroups;
            
            additionResult.textContent = `${additionString} = ${total}`;

            // ê³±ì…ˆì‹ ìƒì„±
            multiplicationResult.textContent = `${state.itemsPerGroup} Ã— ${state.numberOfGroups} = ${total}`;

            // ì„ íƒëœ ì•„ì´í…œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.item-btn').forEach(btn => {
                btn.classList.toggle('selected', btn.dataset.item === state.selectedItem);
            });
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        itemSelector.addEventListener('click', (e) => {
            if (e.target.classList.contains('item-btn')) {
                state.selectedItem = e.target.dataset.item;
                updateUI();
            }
        });

        itemsPerGroupSlider.addEventListener('input', (e) => {
            state.itemsPerGroup = parseInt(e.target.value, 10);
            updateUI();
        });

        numberOfGroupsSlider.addEventListener('input', (e) => {
            state.numberOfGroups = parseInt(e.target.value, 10);
            updateUI();
        });

        // ì´ˆê¸° UI ë Œë”ë§
        window.onload = () => {
             // ì´ˆê¸° ìŠ¬ë¼ì´ë” ê°’ ì„¤ì •
            itemsPerGroupSlider.value = state.itemsPerGroup;
            numberOfGroupsSlider.value = state.numberOfGroups;
            updateUI();
        };
    </script>
</body>
</html>
