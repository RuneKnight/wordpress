<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„œìš¸ 5ëŒ€ ê¶ê¶ ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Serene Harmony -->
    <!-- Application Structure Plan: ì‚¬ìš©ìê°€ 5ëŒ€ ê¶ê¶ì˜ ë°©ëŒ€í•œ ì •ë³´ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ íƒìƒ‰í•  ìˆ˜ ìˆë„ë¡, ë³´ê³ ì„œì˜ ìˆœì°¨ì  êµ¬ì¡°ë¥¼ íƒˆí”¼í•˜ì—¬ 'ì£¼ì œë³„ ë¹„êµ ëŒ€ì‹œë³´ë“œ' ì¤‘ì‹¬ì˜ ë¹„ì„ í˜•ì  êµ¬ì¡°ë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. 1) 'ê¶ê¶ ë¹„êµ' ì„¹ì…˜ì—ì„œëŠ” í‚¤ì›Œë“œ, ê±´ì¶•, ì—­í•  ë“± ë‹¤ì–‘í•œ ê¸°ì¤€ìœ¼ë¡œ ê¶ê¶ë“¤ì„ í•œëˆˆì— ë¹„êµí•˜ë©° í•µì‹¬ ì°¨ì´ì ì„ ì§ê´€ì ìœ¼ë¡œ íŒŒì•…í•˜ê²Œ í•˜ê³ , 2) 'ê¶ê¶ë³„ ì´ì•¼ê¸°' ì„¹ì…˜ì—ì„œëŠ” ê° ê¶ê¶ì˜ ê³ ìœ í•œ ì„œì‚¬ë¥¼ ê¹Šì´ ìˆê²Œ íƒí—˜í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. 3) 'ì—­ì‚¬ì˜ íƒ€ì„ë¼ì¸'ì€ í©ì–´ì ¸ ìˆëŠ” ì‚¬ê±´ë“¤ì„ ì—°ëŒ€ìˆœìœ¼ë¡œ ì¬êµ¬ì„±í•˜ì—¬ ê¶ê¶ë“¤ì˜ ìœ ê¸°ì ì¸ ê´€ê³„ì™€ ì‹œëŒ€ì  ë§¥ë½ì„ ì´í•´í•˜ë„ë¡ ë•ìŠµë‹ˆë‹¤. ì´ êµ¬ì¡°ëŠ” ì‚¬ìš©ìê°€ ìˆ˜ë™ì ì¸ ë…ìì—ì„œ ëŠ¥ë™ì ì¸ íƒí—˜ê°€ë¡œ ì „í™˜ë˜ë„ë¡ ìœ ë„í•˜ë©°, ë³µì¡í•œ ì •ë³´ ì†ì—ì„œ ìì‹ ë§Œì˜ ë°œê²¬ì˜ ì¦ê±°ì›€ì„ ì°¾ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices: 
        - [ê¶ê¶ë³„ í•µì‹¬ ì •ë³´ ë¹„êµ] -> Goal: Inform/Compare -> Viz: ì¸í„°ë™í‹°ë¸Œ ì¹´ë“œ ê·¸ë¦¬ë“œ -> Interaction: ë²„íŠ¼ í´ë¦­ ì‹œ ì¹´ë“œ ë‚´ìš© ë™ì  ë³€ê²½ -> Justification: ë‹¤ì„¯ ê¶ê¶ì˜ ë°©ëŒ€í•œ ì •ë³´ë¥¼ ë™ì¼í•œ ê¸°ì¤€(í‚¤ì›Œë“œ, ê±´ì¶•, ì—­í•  ë“±)ìœ¼ë¡œ ë³‘ë ¬ ë¹„êµí•˜ì—¬ ì‚¬ìš©ìì˜ ë¹ ë¥¸ ì´í•´ì™€ í•™ìŠµì„ ë•ê¸° ìœ„í•¨. (HTML/CSS + Vanilla JS)
        - [ê¶ê¶ë³„ ë°©ë¬¸ê° ìˆ˜ ë¹„êµ] -> Goal: Compare -> Viz: ìˆ˜í‰ ë°” ì°¨íŠ¸ -> Interaction: ë§‰ëŒ€ í˜¸ë²„ ì‹œ íˆ´íŒìœ¼ë¡œ ì •í™•í•œ ìˆ˜ì¹˜ í‘œì‹œ -> Justification: ì–‘ì  ë°ì´í„°ë¥¼ ì‹œê°ì ìœ¼ë¡œ ëª…í™•í•˜ê²Œ ë¹„êµí•˜ê³ , ê²½ë³µê¶ì˜ ì••ë„ì ì¸ ë°©ë¬¸ê° ìˆ˜ë¥¼ í†µí•´ í˜„ëŒ€ì  ìœ„ìƒì„ ì§ê´€ì ìœ¼ë¡œ ì „ë‹¬. (Chart.js)
        - [ì¡°ì„  ë° ëŒ€í•œì œêµ­ ì—°í‘œ] -> Goal: Change/Organize -> Viz: ìˆ˜ì§ íƒ€ì„ë¼ì¸ ë‹¤ì´ì–´ê·¸ë¨ -> Interaction: ìŠ¤í¬ë¡¤ì— ë”°ë¥¸ ì´ë²¤íŠ¸ í‘œì‹œ, ê¶ê¶ë³„ ìƒ‰ìƒ êµ¬ë¶„ -> Justification: ê° ê¶ê¶ì— í©ì–´ì§„ ì—­ì‚¬ì  ì‚¬ê±´ë“¤ì„ í•˜ë‚˜ì˜ ì‹œê°„ ì¶•ì— í†µí•©í•˜ì—¬ ë³´ì—¬ì¤Œìœ¼ë¡œì¨, ê¶ê¶ë“¤ì˜ ìƒí˜¸ ê´€ê³„ì™€ ì‹œëŒ€ì  íë¦„ì„ ê±°ì‹œì ìœ¼ë¡œ íŒŒì•…í•˜ê²Œ í•¨. (HTML/CSS + Vanilla JS)
        - [ê¶ê¶ë³„ ìƒì„¸ ì •ë³´] -> Goal: Inform -> Viz: íƒ­ ë˜ëŠ” ì•„ì½”ë””ì–¸ í˜•íƒœì˜ ìƒì„¸ ì •ë³´ ë·° -> Interaction: ê¶ê¶ ì„ íƒ ì‹œ í•´ë‹¹ ì •ë³´ í‘œì‹œ -> Justification: ë©”ì¸ í™”ë©´ì˜ ë³µì¡ì„±ì„ ì¤„ì´ë©´ì„œ, ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ê¶ê¶ì— ëŒ€í•œ ê¹Šì´ ìˆëŠ” ì •ë³´ë¥¼ ì„ íƒì ìœ¼ë¡œ íƒìƒ‰í•  ìˆ˜ ìˆë„ë¡ í•¨. (HTML/CSS + Vanilla JS)
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        h1, h2, h3, .font-display { font-family: 'Gowun Dodum', serif; }
        .active-nav { color: #1e3a8a; font-weight: 700; border-bottom: 2px solid #1e3a8a; }
        .section { display: none; }
        .section.active { display: block; }
        .comparison-card { transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out; }
        .comparison-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
        .chart-container { position: relative; width: 100%; max-width: 900px; margin-left: auto; margin-right: auto; height: 400px; max-height: 50vh; }
        .timeline { border-left: 3px solid #d1d5db; }
        .timeline-item:before { content: ''; position: absolute; left: -9px; top: 50%; transform: translateY(-50%); width: 15px; height: 15px; border-radius: 9999px; background-color: white; border: 3px solid; }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <header class="bg-white/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <h1 class="font-display text-2xl font-bold text-blue-900">ì„œìš¸ 5ëŒ€ ê¶ê¶ íƒí—˜</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#compare" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-stone-600 hover:text-blue-900">ê¶ê¶ ë¹„êµ</a>
                        <a href="#stories" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-stone-600 hover:text-blue-900">ê¶ê¶ë³„ ì´ì•¼ê¸°</a>
                        <a href="#timeline" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-stone-600 hover:text-blue-900">ì—­ì‚¬ì˜ íƒ€ì„ë¼ì¸</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-stone-600 hover:text-blue-900 hover:bg-stone-100 focus:outline-none">
                        <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
        <div id="mobile-menu" class="md:hidden hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#compare" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-stone-600 hover:text-blue-900 hover:bg-stone-100">ê¶ê¶ ë¹„êµ</a>
                <a href="#stories" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-stone-600 hover:text-blue-900 hover:bg-stone-100">ê¶ê¶ë³„ ì´ì•¼ê¸°</a>
                <a href="#timeline" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-stone-600 hover:text-blue-900 hover:bg-stone-100">ì—­ì‚¬ì˜ íƒ€ì„ë¼ì¸</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <section id="compare" class="section">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold font-display text-blue-900">í•œëˆˆì— ë³´ëŠ” ê¶ê¶ ë¹„êµ</h2>
                <p class="mt-4 text-lg text-stone-600">ë‹¤ì„¯ ê¶ê¶ì˜ íŠ¹ì§•ì„ ë‹¤ì–‘í•œ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµí•˜ë©° ìˆ¨ê²¨ì§„ ì´ì•¼ê¸°ë¥¼ ë°œê²¬í•´ ë³´ì„¸ìš”.</p>
            </div>

            <div class="mb-8 flex justify-center flex-wrap gap-2">
                <button class="comparison-btn bg-white shadow-sm hover:shadow-md border border-stone-200 text-blue-800 px-4 py-2 rounded-full text-sm font-semibold" data-topic="keyword">âœ¨ í•µì‹¬ í‚¤ì›Œë“œ</button>
                <button class="comparison-btn bg-white shadow-sm hover:shadow-md border border-stone-200 text-stone-700 px-4 py-2 rounded-full text-sm font-semibold" data-topic="architecture">ğŸ›ï¸ ê±´ì¶• íŠ¹ì§•</button>
                <button class="comparison-btn bg-white shadow-sm hover:shadow-md border border-stone-200 text-stone-700 px-4 py-2 rounded-full text-sm font-semibold" data-topic="role">ğŸ“œ ì—­ì‚¬ì  ì—­í• </button>
                <button class="comparison-btn bg-white shadow-sm hover:shadow-md border border-stone-200 text-stone-700 px-4 py-2 rounded-full text-sm font-semibold" data-topic="tragedy">ğŸ˜¢ ìˆ˜ë‚œê³¼ ë³µì›</button>
            </div>

            <div id="comparison-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>

            <div class="mt-20 text-center">
                <h3 class="text-3xl font-bold font-display text-blue-900 mb-4">ê¶ê¶ë³„ ë°©ë¬¸ê° í˜„í™© (2024ë…„ ìƒë°˜ê¸°)</h3>
                <p class="text-stone-600 max-w-2xl mx-auto mb-8">ê¶ê¶ì˜ í˜„ëŒ€ì  ìœ„ìƒì„ ë°©ë¬¸ê° ìˆ˜ì¹˜ë¥¼ í†µí•´ í™•ì¸í•´ ë³´ì„¸ìš”. íŠ¹íˆ ê²½ë³µê¶ì˜ ë†’ì€ ì¸ê¸°ê°€ ë‹ë³´ì…ë‹ˆë‹¤.</p>
                <div class="chart-container">
                    <canvas id="palaceVisitorsChart"></canvas>
                </div>
            </div>
        </section>

        <section id="stories" class="section">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold font-display text-blue-900">ê¶ê¶ë³„ ì´ì•¼ê¸°</h2>
                <p class="mt-4 text-lg text-stone-600">ê° ê¶ê¶ì´ í’ˆê³  ìˆëŠ” ê³ ìœ í•œ ì—­ì‚¬ì™€ ê±´ì¶•, ê·¸ë¦¬ê³  ì¸ë¬¼ë“¤ì˜ ì´ì•¼ê¸°ë¥¼ ë§Œë‚˜ë³´ì„¸ìš”.</p>
            </div>
            <div id="palace-story-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
            </div>
            <div id="palace-detail-content" class="mt-8"></div>
        </section>

        <section id="timeline" class="section">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold font-display text-blue-900">ì—­ì‚¬ì˜ íƒ€ì„ë¼ì¸</h2>
                <p class="mt-4 text-lg text-stone-600">ì¡°ì„ ì˜ ê±´êµ­ë¶€í„° ëŒ€í•œì œêµ­ì˜ í™©í˜¼ê¹Œì§€, 5ëŒ€ ê¶ê¶ì˜ ìš´ëª…ì´ êµì°¨í•œ ìˆœê°„ë“¤ì„ ì‹œê°„ì˜ íë¦„ ì†ì—ì„œ ë”°ë¼ê°€ ë´…ë‹ˆë‹¤.</p>
            </div>
            <div id="historical-timeline" class="relative max-w-3xl mx-auto timeline pl-8">
            </div>
        </section>
    </main>
    <footer class="text-center py-6 mt-12 border-t border-stone-200">
        <p class="text-sm text-stone-500">ë³¸ í˜ì´ì§€ëŠ” ì œê³µëœ ì—°êµ¬ ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì œì‘ëœ ëŒ€í™”í˜• ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.</p>
    </footer>

<script>
const palaceData = {
    gyeongbok: {
        name: "ê²½ë³µê¶",
        color: "bg-blue-100",
        borderColor: "border-blue-500",
        textColor: "text-blue-800",
        keyword: ["ë²•ê¶(æ³•å®®)", "ì¡°ì„ ì™•ì¡°ì˜ ì‹œì‘", "ì¤‘ì‹¬ì¶•ê³¼ ëŒ€ì¹­", "ìˆ˜ë‚œê³¼ ë¶€í™œì˜ ìƒì§•"],
        architecture: ["ìœ êµ ì´ë…ì˜ êµ¬í˜„", "ë‚¨ë¶ ì¤‘ì‹¬ì¶•ì˜ ì—„ê²©í•œ ëŒ€ì¹­", "ê´‘í™”ë¬¸-ê·¼ì •ì „-ì‚¬ì •ì „", "ì¥ì—„í•˜ê³  ê¶Œìœ„ì ì¸ ê³µê°„"],
        role: ["ì¡°ì„  ì œ1ì˜ ì •ê¶", "ì™•ì˜ ì¦‰ìœ„ì‹, êµ­ê°€ ëŒ€ë¡€ ê±°í–‰", "ê³¼í•™ê³¼ ë¬¸í™”ì˜ ì¤‘ì‹¬(ì„¸ì¢…)", "19ì„¸ê¸° ë§ê¹Œì§€ ì‹¤ì§ˆì  ê¸°ëŠ¥ ìƒì‹¤"],
        tragedy: ["ì„ì§„ì™œë€ìœ¼ë¡œ ì „ì†Œ í›„ 270ë…„ê°„ íí—ˆ", "ì¼ì œì— ì˜í•œ ì²´ê³„ì  í›¼ì†(ì´ë…ë¶€ ì²­ì‚¬)", "ë¯¼ì¡± ì •ê¸° íšŒë³µì˜ ìƒì§•ìœ¼ë¡œ ë³µì› ì¤‘"],
        story: {
            title: "í° ë³µì„ ëˆ„ë¦¬ë¼, ì¡°ì„ ì˜ ì‹¬ì¥ ê²½ë³µê¶",
            summary: "ì¡°ì„  ì™•ì¡°ì˜ ì‹œì‘ì„ ì•Œë¦° ì²« ë²ˆì§¸ ê¶ê¶ì´ì ìœ¼ëœ¸ ê¶ê¶(ë²•ê¶)ì…ë‹ˆë‹¤. ìœ êµì  ì´ìƒ êµ­ê°€ë¥¼ ê¿ˆê¾¸ë©° ì§ˆì„œì •ì—°í•˜ê²Œ ì„¤ê³„ë˜ì—ˆìœ¼ë‚˜, ì„ì§„ì™œë€ê³¼ ì¼ì œê°•ì ê¸°ë¥¼ ê±°ì¹˜ë©° ê°€ì¥ í° ìˆ˜ë‚œì„ ê²ªì—ˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë‚  ê²½ë³µê¶ì€ íŒŒê´´ì˜ ì•„í””ì„ ë”›ê³  ì¼ì–´ë‚˜ ë¯¼ì¡±ì˜ ìì¡´ì‹¬ì„ ìƒì§•í•˜ëŠ” ê³µê°„ìœ¼ë¡œ ìš°ë¦¬ ê³ì— ìˆìŠµë‹ˆë‹¤.",
            buildings: [
                { name: "ê·¼ì •ì „", desc: "ì™•ì˜ ì¦‰ìœ„ì‹ ë“± êµ­ê°€ì˜ ê°€ì¥ ì¤‘ìš”í•œ í–‰ì‚¬ê°€ ì—´ë¦¬ë˜ ì •ì „" },
                { name: "ê²½íšŒë£¨", desc: "ë‚˜ë¼ì— ê²½ì‚¬ê°€ ìˆì„ ë•Œ ì„±ëŒ€í•œ ì—°íšŒë¥¼ ì—´ë˜ ëˆ„ê°" },
                { name: "ê°•ë…•ì „/êµíƒœì „", desc: "ì™•ê³¼ ì™•ë¹„ì˜ ìƒí™œ ê³µê°„ì´ì ì¹¨ì „" },
            ]
        }
    },
    changdeok: {
        name: "ì°½ë•ê¶",
        color: "bg-green-100",
        borderColor: "border-green-500",
        textColor: "text-green-800",
        keyword: ["ìì—°ê³¼ì˜ ì¡°í™”", "ì‹¤ì§ˆì  ì •ê¶", "ë¹„ì •í˜•ì˜ ë¯¸í•™", "ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ìœ ì‚°"],
        architecture: ["ìì—° ì§€í˜•ì— ìˆœì‘í•œ ììœ ë¡œìš´ ë°°ì¹˜", "ë¹„ëŒ€ì¹­ì  ë™ì„ ", "'ê°€ì¥ í•œêµ­ì ì¸ ê¶ê¶'", "ì•„ë¦„ë‹¤ìš´ í›„ì›(ë¹„ì›)"],
        role: ["ì¡°ì„  ì™•ë“¤ì´ ê°€ì¥ ì‚¬ë‘í•œ ê¶ê¶", "ì•½ 258ë…„ê°„ ì‹¤ì§ˆì ì¸ ë²•ê¶ ì—­í•  ìˆ˜í–‰", "ì¡°ì„  í›„ê¸° ì •ì¹˜, ë¬¸í™”ì˜ ì¤‘ì‹¬"],
        tragedy: ["ì„ì§„ì™œë€ìœ¼ë¡œ ì†Œì‹¤ í›„ ê°€ì¥ ë¨¼ì € ì¬ê±´", "ì¦ì€ í™”ì¬ì™€ ë³µì›ì˜ ì—­ì‚¬", "1917ë…„ ëŒ€í™”ì¬ë¡œ ë‚´ì „ ì†Œì‹¤"],
        story: {
            title: "ìì—°ì„ í’ˆì€ ê¶ê¶, ì°½ë•ê¶",
            summary: "ì—„ê²©í•œ ê²½ë³µê¶ê³¼ ë‹¬ë¦¬, ìì—° ì§€í˜•ì„ ê±°ìŠ¤ë¥´ì§€ ì•Šê³  ììœ ë¡­ê²Œ ì§€ì–´ì§„ ê¶ê¶ì…ë‹ˆë‹¤. ì„ì§„ì™œë€ ì´í›„ ì•½ 258ë…„ê°„ ì¡°ì„ ì˜ ì‹¤ì§ˆì ì¸ ë²•ê¶ ì—­í• ì„ í–ˆìœ¼ë©°, ì™•ë“¤ì˜ ê°€ì¥ ë§ì€ ì‚¬ë‘ì„ ë°›ì•˜ìŠµë‹ˆë‹¤. íŠ¹íˆ ìì—° ê·¸ëŒ€ë¡œì˜ ì•„ë¦„ë‹¤ì›€ì„ ì‚´ë¦° í›„ì›ì€ ê·¸ ê°€ì¹˜ë¥¼ ì¸ì •ë°›ì•„ ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ìœ ì‚°ìœ¼ë¡œ ë“±ì¬ë˜ì—ˆìŠµë‹ˆë‹¤.",
            buildings: [
                { name: "ì¸ì •ì „", desc: "ì°½ë•ê¶ì˜ ì •ì „. êµ­ê°€ ê³µì‹ í–‰ì‚¬ë¥¼ ì¹˜ë¥¸ ê³³" },
                { name: "í›„ì›(ë¹„ì›)", desc: "í•œêµ­ ì „í†µ ì¡°ê²½ì˜ ì •ìˆ˜ë¥¼ ë³´ì—¬ì£¼ëŠ” ì™•ì˜ ì •ì›" },
                { name: "ë‚™ì„ ì¬", desc: "ë‹¨ì²­ ì—†ëŠ” ì†Œë°•í•œ ê±´ë¬¼. ì¡°ì„  ì™•ì¡° ë§ˆì§€ë§‰ ì‚¬ëŒë“¤ì˜ ê±°ì²˜" },
            ]
        }
    },
    changgyeong: {
        name: "ì°½ê²½ê¶",
        color: "bg-amber-100",
        borderColor: "border-amber-500",
        textColor: "text-amber-800",
        keyword: ["íš¨(å­)ì˜ ê¶ê¶", "ì™•ì‹¤ ì—¬ì„±ë“¤ì˜ ê³µê°„", "ë¹„ê·¹ì˜ ë¬´ëŒ€", "ì°½ê²½ì›"],
        architecture: ["ë™í–¥ ë°°ì¹˜", "ë‚´ì „ ì¤‘ì‹¬ì˜ ê³µê°„ êµ¬ì¡°", "ì•„ëŠ‘í•˜ê³  ì¸ê°„ì ì¸ ì²™ë„", "ì°½ë•ê¶ê³¼ ì´ì–´ì§„ ë™ê¶"],
        role: ["ì™•ì‹¤ ì–´ë¥¸(ëŒ€ë¹„)ì„ ëª¨ì‹œê¸° ìœ„í•´ ê±´ë¦½", "ì™•ì‹¤ ê°€ì¡±ì˜ ìƒí™œ ê³µê°„", "ì •ì¹˜ì  ì•”íˆ¬ì˜ ì¤‘ì‹¬"],
        tragedy: ["ì‚¬ë„ì„¸ìì˜ ë¹„ê·¹(ì„ì˜¤í™”ë³€)", "ì¼ì œì— ì˜í•´ ë™ë¬¼ì›, ì‹ë¬¼ì›(ì°½ê²½ì›)ìœ¼ë¡œ ê²©í•˜", "1980ë…„ëŒ€ ë³µì›ì„ í†µí•´ ê¶ì˜ ìœ„ìƒ íšŒë³µ"],
        story: {
            title: "íš¨ì‹¬ê³¼ ë¹„ê·¹ì´ ê¹ƒë“ , ì°½ê²½ê¶",
            summary: "ì™•ì‹¤ì˜ ì›ƒì–´ë¥¸, íŠ¹íˆ ëŒ€ë¹„ë“¤ì„ í¸ì•ˆíˆ ëª¨ì‹œê¸° ìœ„í•´ ì§€ì–´ì§„ íš¨ì˜ ê¶ê¶ì…ë‹ˆë‹¤. ì´ ë•Œë¬¸ì— êµ­ê°€ í†µì¹˜ ê³µê°„ë³´ë‹¤ ì™•ì‹¤ ê°€ì¡±ì˜ ìƒí™œ ê³µê°„ì´ ë” ë°œë‹¬í•œ ë…íŠ¹í•œ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤. í•˜ì§€ë§Œ í‰ì˜¨í•œ ëª©ì ê³¼ ë‹¬ë¦¬ ì‚¬ë„ì„¸ìì˜ ë¹„ê·¹, ì¥í¬ë¹ˆ ì´ì•¼ê¸° ë“± ì™•ì‹¤ì˜ ê°€ì¥ ê°€ìŠ´ ì•„í”ˆ ì—­ì‚¬ê°€ í¼ì³ì§„ ë¬´ëŒ€ì´ê¸°ë„ í•©ë‹ˆë‹¤.",
            buildings: [
                { name: "ëª…ì •ì „", desc: "í˜„ì¡´í•˜ëŠ” ì¡°ì„  ê¶ê¶ì˜ ì •ì „ ì¤‘ ê°€ì¥ ì˜¤ë˜ëœ ê±´ë¬¼" },
                { name: "í†µëª…ì „", desc: "ì™•ë¹„ì˜ ì¹¨ì „. ì¸í˜„ì™•í›„ì™€ ì¥í¬ë¹ˆì˜ ì´ì•¼ê¸°ê°€ ê¹ƒë“  ê³³" },
                { name: "ë¬¸ì •ì „", desc: "ì™•ì˜ ì§‘ë¬´ì‹¤. ì‚¬ë„ì„¸ìì˜ ë¹„ê·¹ì´ ì‹œì‘ëœ ì¥ì†Œ" },
            ]
        }
    },
    deoksu: {
        name: "ë•ìˆ˜ê¶",
        color: "bg-violet-100",
        borderColor: "border-violet-500",
        textColor: "text-violet-800",
        keyword: ["ëŒ€í•œì œêµ­ì˜ í™©ê¶", "ì „í†µê³¼ ê·¼ëŒ€ì˜ ê³µì¡´", "ë¹„ìš´ì˜ í™©ì œ", "ì™¸êµì˜ ê°ì¶•ì¥"],
        architecture: ["ì „í†µ ëª©ì¡° ê±´ì¶•ê³¼ ì„œì–‘ì‹ ì„ì¡° ê±´ì¶•ì˜ í˜¼ì¬", "ì„ì¡°ì „(ì‹ ê³ ì „ì£¼ì˜)", "ì •ê´€í—Œ(í•œÂ·ì–‘ ì ˆì¶©ì‹)", "êµ¬ë³¸ì‹ ì°¸(èˆŠæœ¬æ–°åƒ) ì •ì‹ ì˜ êµ¬í˜„"],
        role: ["ì„ì§„ì™œë€ ë•Œ ì„ì‹œ ê¶ê¶(í–‰ê¶)", "ëŒ€í•œì œêµ­ì˜ ì •ê¶", "ê³ ì¢…ì˜ ê±°ì²˜ì´ì ìµœí›„ì˜ ì¥ì†Œ"],
        tragedy: ["ì„ì‚¬ëŠ‘ì•½ ì²´ê²°ì˜ ë¹„ê·¹ì  í˜„ì¥(ì¤‘ëª…ì „)", "ê³ ì¢…ì˜ ê°•ì œ í‡´ìœ„ì™€ ì˜ë¬¸ì˜ ì£½ìŒ", "ì¼ì œì— ì˜í•´ 'ê²½ìš´ê¶'ì—ì„œ 'ë•ìˆ˜ê¶'ìœ¼ë¡œ ê²©í•˜"],
        story: {
            title: "í™©í˜¼ê³¼ ì—¬ëª…ì˜ ê¶ê¶, ë•ìˆ˜ê¶",
            summary: "ë³¸ë˜ ì™•ì¡±ì˜ ì‚¬ì €ì˜€ìœ¼ë‚˜, êµ­ë‚œ ì‹œê¸°ì— ì„ì‹œ ê¶ê¶ë¡œ ì‚¬ìš©ë˜ë‹¤ ëŒ€í•œì œêµ­ì˜ í™©ê¶ì´ ëœ ê·¹ì ì¸ ì—­ì‚¬ë¥¼ ì§€ë…”ìŠµë‹ˆë‹¤. ì „í†µ ëª©ì¡° ê±´ë¬¼ê³¼ ì„œì–‘ì‹ ì„ì¡° ê±´ë¬¼ì´ ê³µì¡´í•˜ëŠ” ë…íŠ¹í•œ í’ê²½ì€, ì „í†µì„ ì§€í‚¤ë©° ê·¼ëŒ€ êµ­ê°€ë¡œ ë‚˜ì•„ê°€ë ¤ í–ˆë˜ ëŒ€í•œì œêµ­ì˜ ê¿ˆê³¼ ì¢Œì ˆì„ ë™ì‹œì— ë³´ì—¬ì¤ë‹ˆë‹¤.",
            buildings: [
                { name: "ì¤‘í™”ì „", desc: "ëŒ€í•œì œêµ­ì˜ ì •ì „. í™”ì¬ í›„ ë‹¨ì¸µìœ¼ë¡œ ì¶•ì†Œë˜ì–´ êµ­ìš´ì„ ìƒì§•" },
                { name: "ì„ì¡°ì „", desc: "ì„œì–‘ì‹ í™©ê¶ ê±´ì¶•ë¬¼. ëŒ€í•œì œêµ­ì˜ ê·¼ëŒ€í™” ì˜ì§€ë¥¼ ìƒì§•" },
                { name: "í•¨ë…•ì „", desc: "ê³ ì¢…ì˜ ì¹¨ì „ì´ì ê·¸ê°€ ë§ˆì§€ë§‰ ìˆ¨ì„ ê±°ë‘” ë¹„ê·¹ì˜ ì¥ì†Œ" },
            ]
        }
    },
    gyeonghui: {
        name: "ê²½í¬ê¶",
        color: "bg-stone-200",
        borderColor: "border-stone-500",
        textColor: "text-stone-800",
        keyword: ["ì‚¬ë¼ì§„ ê¶ê¶", "ì„œê¶(è¥¿é—•)", "ì™•ê¸°(ç‹æ°£)", "ë¶€ì¬(ä¸åœ¨)ì˜ ì—­ì‚¬"],
        architecture: ["ê²½ì‚¬ì§„ ì§€í˜•ì— ìˆœì‘í•œ ë¹„ëŒ€ì¹­ ë°°ì¹˜", "100ì—¬ ì±„ì˜ ì „ê°ì´ ìˆë˜ ëŒ€ê·œëª¨ ê¶ê¶", "í˜„ì¬ëŠ” í•µì‹¬ ì „ê° ì¼ë¶€ë§Œ ë³µì›"],
        role: ["ê´‘í•´êµ°ì— ì˜í•´ ì°½ê±´", "ì¡°ì„  í›„ê¸° 10ëª…ì˜ ì™•ì´ ë¨¸ë¬¸ ì´ê¶", "ì‹¤ì§ˆì ì¸ ë²•ê¶ ì—­í•  ìˆ˜í–‰"],
        tragedy: ["ê²½ë³µê¶ ì¤‘ê±´ ìì¬ë¡œ ì“°ì´ë©° 1ì°¨ í›¼ì†", "ì¼ì œì— ì˜í•´ ì™„ì „íˆ íŒŒê´´, ê²½ì„±ì¤‘í•™êµ ê±´ë¦½", "ì „ê°ë“¤ì´ íŒ”ë ¤ë‚˜ê°€ ë¿”ë¿”ì´ í©ì–´ì§"],
        story: {
            title: "ê¸°ì–µìœ¼ë¡œ ë‚¨ì€ ê¶ê¶, ê²½í¬ê¶",
            summary: "í•œë•Œ 100ì—¬ ì±„ì˜ ì „ê°ì„ ê±°ëŠë¦° ëŒ€ê·œëª¨ ê¶ê¶ì´ì—ˆìœ¼ë‚˜, ê²½ë³µê¶ ì¤‘ê±´ê³¼ ì¼ì œê°•ì ê¸°ë¥¼ ê±°ì¹˜ë©° ê°€ì¥ ì² ì €í•˜ê²Œ íŒŒê´´ë˜ì–´ 'ì‚¬ë¼ì§„ ê¶ê¶'ë¡œ ë¶ˆë¦½ë‹ˆë‹¤. ìˆ­ì •ì „ ë“± ì¼ë¶€ ê±´ë¬¼ì´ ë³µì›ë˜ì—ˆì§€ë§Œ, ê´‘í™œí•˜ê²Œ ë‚¨ì€ ë¹ˆí„°ëŠ” í™”ë ¤í•œ ëª¨ìŠµë³´ë‹¤ ë” ì›…ë³€ì ìœ¼ë¡œ ìƒì‹¤ì˜ ì—­ì‚¬ë¥¼ ì¦ì–¸í•˜ë©° ê¹Šì€ ìš¸ë¦¼ì„ ì¤ë‹ˆë‹¤.",
            buildings: [
                { name: "ìˆ­ì •ì „", desc: "ê²½í¬ê¶ì˜ ì •ì „. í˜„ì¬ ì›ë³¸ì€ ë™êµ­ëŒ€ì—, ë³µì›í’ˆì´ ê¶í„°ì— ìˆìŒ" },
                { name: "í¥í™”ë¬¸", desc: "ê²½í¬ê¶ì˜ ì •ë¬¸. ë°•ë¬¸ì‚¬, ì‹ ë¼í˜¸í…” ì •ë¬¸ìœ¼ë¡œ ì“°ì´ë‹¤ ëŒì•„ì˜´" },
                { name: "íƒœë ¹ì „", desc: "ì˜ì¡°ì˜ ì–´ì§„(ì´ˆìƒí™”)ì„ ëª¨ì…¨ë˜ ì „ê°" },
            ]
        }
    },
};

const timelineEvents = [
    { year: 1395, title: "ê²½ë³µê¶ ì°½ê±´", palace: "gyeongbok", desc: "ì¡°ì„  ì™•ì¡°ì˜ ë²•ê¶ìœ¼ë¡œ ê±´ë¦½." },
    { year: 1405, title: "ì°½ë•ê¶ ì°½ê±´", palace: "changdeok", desc: "ê²½ë³µê¶ì˜ ì´ê¶ìœ¼ë¡œ ê±´ë¦½." },
    { year: 1483, title: "ì°½ê²½ê¶ ì°½ê±´", palace: "changgyeong", desc: "ì™•ì‹¤ ì–´ë¥¸ì„ ëª¨ì‹œê¸° ìœ„í•´ ìˆ˜ê°•ê¶ í„°ì— ê±´ë¦½." },
    { year: 1592, title: "ì„ì§„ì™œë€ ë°œë°œ", palace: "gyeongbok", desc: "ê²½ë³µê¶, ì°½ë•ê¶, ì°½ê²½ê¶ ë“± ëª¨ë“  ê¶ê¶ ì†Œì‹¤." },
    { year: 1593, title: "ì •ë¦‰ë™ í–‰ê¶ ì‹œì‘", palace: "deoksu", desc: "ì„ ì¡°ê°€ í™˜ë„ í›„ ì›”ì‚°ëŒ€êµ° ì‚¬ì €ë¥¼ ì„ì‹œ ê¶ê¶ë¡œ ì‚¬ìš©." },
    { year: 1610, title: "ì°½ë•ê¶ ì¬ê±´", palace: "changdeok", desc: "ì†Œì‹¤ëœ ê¶ê¶ ì¤‘ ê°€ì¥ ë¨¼ì € ì¬ê±´ë˜ì–´ ì‹¤ì§ˆì  ë²•ê¶ì´ ë¨." },
    { year: 1616, title: "ì°½ê²½ê¶ ëª…ì •ì „ ì¬ê±´", palace: "changgyeong", desc: "í˜„ì¡´í•˜ëŠ” ê°€ì¥ ì˜¤ë˜ëœ ì •ì „ìœ¼ë¡œ ë³µì›." },
    { year: 1617, title: "ê²½í¬ê¶ ì°½ê±´ ì‹œì‘", palace: "gyeonghui", desc: "ê´‘í•´êµ°ì´ ì™•ê¸°(ç‹æ°£)ê°€ ì„œë¦° í„°ì— ê±´ë¦½ ì‹œì‘." },
    { year: 1762, title: "ì„ì˜¤í™”ë³€ ë°œìƒ", palace: "changgyeong", desc: "ì°½ê²½ê¶ ë¬¸ì •ì „ ì•ì—ì„œ ì˜ì¡°ê°€ ì‚¬ë„ì„¸ìë¥¼ ë’¤ì£¼ì— ê°€ë‘ ." },
    { year: 1867, title: "ê²½ë³µê¶ ì¤‘ê±´", palace: "gyeongbok", desc: "í¥ì„ ëŒ€ì›êµ° ì£¼ë„ë¡œ ì¬ê±´. ì´ë•Œ ê²½í¬ê¶ ì „ê° ë‹¤ìˆ˜ í›¼ì² ." },
    { year: 1897, title: "ëŒ€í•œì œêµ­ ì„ í¬", palace: "deoksu", desc: "ê³ ì¢…ì´ ê²½ìš´ê¶(ë•ìˆ˜ê¶)ì—ì„œ í™©ì œ ì¦‰ìœ„, ì •ê¶ì´ ë¨." },
    { year: 1905, title: "ì„ì‚¬ëŠ‘ì•½ ì²´ê²°", palace: "deoksu", desc: "ë•ìˆ˜ê¶ ì¤‘ëª…ì „ì—ì„œ ì™¸êµê¶Œ ë°•íƒˆ." },
    { year: 1907, title: "ê³ ì¢… ê°•ì œ í‡´ìœ„", palace: "deoksu", desc: "ê²½ìš´ê¶ì´ 'ë•ìˆ˜ê¶'ìœ¼ë¡œ ê²©í•˜ë¨." },
    { year: 1909, title: "ì°½ê²½ì› ê°œì›", palace: "changgyeong", desc: "ì°½ê²½ê¶ì´ ë™ë¬¼ì›, ì‹ë¬¼ì›ìœ¼ë¡œ ê²©í•˜ë¨." },
    { year: 1910, title: "ê²½í¬ê¶ ì™„ì „ íŒŒê´´", palace: "gyeonghui", desc: "ì¼ì œê°€ ê¶ê¶ í„°ì— ê²½ì„±ì¤‘í•™êµ ê±´ë¦½." },
    { year: 1919, title: "ê³ ì¢… ìŠ¹í•˜", palace: "deoksu", desc: "ë•ìˆ˜ê¶ í•¨ë…•ì „ì—ì„œ ìŠ¹í•˜. 3.1 ìš´ë™ì˜ ê¸°í­ì œê°€ ë¨." },
    { year: 1926, title: "ì¡°ì„ ì´ë…ë¶€ ì²­ì‚¬ ê±´ë¦½", palace: "gyeongbok", desc: "ê²½ë³µê¶ ê·¼ì •ì „ ì•ì— ì„¸ì›Œì ¸ ê²½ê´€ì„ ì™„ì „íˆ í›¼ì†." },
    { year: 1983, title: "ì°½ê²½ê¶ ë³µì› ì‹œì‘", palace: "changgyeong", desc: "ë™ë¬¼ì› ì´ì „ ë° 'ì°½ê²½ê¶' ëª…ì¹­ í™˜ì›." },
    { year: 1995, title: "êµ¬ ì¡°ì„ ì´ë…ë¶€ ê±´ë¬¼ ì² ê±°", palace: "gyeongbok", desc: "ì—­ì‚¬ ë°”ë¡œ ì„¸ìš°ê¸°ì˜ ì¼í™˜ìœ¼ë¡œ ì² ê±°." },
    { year: 1997, title: "ì°½ë•ê¶ ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ìœ ì‚° ë“±ì¬", palace: "changdeok", desc: "ìì—°ê³¼ ì¡°í™”ëœ ê±´ì¶•ë¯¸ë¥¼ ì„¸ê³„ì ìœ¼ë¡œ ì¸ì •ë°›ìŒ." },
];


document.addEventListener('DOMContentLoaded', () => {
    const comparisonGrid = document.getElementById('comparison-grid');
    const comparisonBtns = document.querySelectorAll('.comparison-btn');
    const palaceStoryGrid = document.getElementById('palace-story-grid');
    const palaceDetailContent = document.getElementById('palace-detail-content');
    const historicalTimeline = document.getElementById('historical-timeline');
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('.section');

    function renderComparison(topic) {
        comparisonGrid.innerHTML = '';
        Object.keys(palaceData).forEach(key => {
            const palace = palaceData[key];
            const contentHtml = palace[topic].map(item => `<li>${item}</li>`).join('');
            const card = `
                <div class="comparison-card bg-white rounded-lg shadow-sm border ${palace.borderColor} p-6">
                    <h3 class="font-display text-2xl font-bold ${palace.textColor}">${palace.name}</h3>
                    <ul class="mt-4 space-y-2 text-sm text-stone-600 list-disc list-inside">
                        ${contentHtml}
                    </ul>
                </div>
            `;
            comparisonGrid.innerHTML += card;
        });
    }

    comparisonBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const topic = btn.dataset.topic;
            renderComparison(topic);
            comparisonBtns.forEach(b => {
                b.classList.remove('bg-blue-800', 'text-white');
                b.classList.add('bg-white', 'text-stone-700');
            });
            btn.classList.add('bg-blue-800', 'text-white');
            btn.classList.remove('bg-white', 'text-stone-700');
        });
    });

    function renderPalaceStories() {
        palaceStoryGrid.innerHTML = '';
        Object.keys(palaceData).forEach(key => {
            const palace = palaceData[key];
            const card = `
                <div class="story-card cursor-pointer p-4 rounded-lg transition-all duration-300 ${palace.color} hover:shadow-xl hover:scale-105" data-palace-key="${key}">
                    <h3 class="font-display text-3xl font-bold text-center ${palace.textColor}">${palace.name}</h3>
                    <p class="text-center text-sm ${palace.textColor} mt-1">${palace.keyword[0]}</p>
                </div>
            `;
            palaceStoryGrid.innerHTML += card;
        });
        
        document.querySelectorAll('.story-card').forEach(card => {
            card.addEventListener('click', () => {
                const key = card.dataset.palaceKey;
                renderPalaceDetail(key);

                document.querySelectorAll('.story-card').forEach(c => {
                    c.classList.remove('ring-4', palaceData[c.dataset.palaceKey].borderColor);
                });
                card.classList.add('ring-4', palaceData[key].borderColor);
            });
        });
    }

    function renderPalaceDetail(key) {
        const palace = palaceData[key];
        const buildingsHtml = palace.story.buildings.map(b => `
            <div class="bg-white p-4 rounded-lg shadow-sm">
                <p class="font-bold text-lg ${palace.textColor}">${b.name}</p>
                <p class="text-sm text-stone-600">${b.desc}</p>
            </div>
        `).join('');

        palaceDetailContent.innerHTML = `
            <div class="bg-white p-8 rounded-xl shadow-lg mt-8 border-t-8 ${palace.borderColor} transition-all duration-500">
                <h3 class="font-display text-4xl font-bold ${palace.textColor}">${palace.story.title}</h3>
                <p class="mt-4 text-stone-700 leading-relaxed">${palace.story.summary}</p>
                <h4 class="font-display text-2xl font-bold mt-8 mb-4 ${palace.textColor}">ì£¼ìš” ê±´ì¶•ë¬¼</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    ${buildingsHtml}
                </div>
            </div>
        `;
    }
    
    function renderTimeline() {
        historicalTimeline.innerHTML = '';
        timelineEvents.forEach(event => {
            const palace = palaceData[event.palace];
            const item = `
                <div class="timeline-item mb-8 ml-4 relative">
                    <div class="absolute w-3 h-3 rounded-full -left-5 border-2 border-white ${palace.borderColor.replace('border-', 'bg-')}"></div>
                    <div class="p-4 rounded-lg shadow-md bg-white border-l-4 ${palace.borderColor}">
                        <time class="text-xs font-semibold uppercase text-stone-500">${event.year}ë…„</time>
                        <h4 class="text-lg font-bold font-display ${palace.textColor}">${event.title} <span class="text-sm font-normal text-stone-600">(${palace.name})</span></h4>
                        <p class="text-sm text-stone-600">${event.desc}</p>
                    </div>
                </div>
            `;
            historicalTimeline.innerHTML += item;
        });
    }


    const visitorsData = {
        labels: ['ê²½ë³µê¶', 'ë•ìˆ˜ê¶', 'ì°½ë•ê¶', 'ì°½ê²½ê¶', 'ê²½í¬ê¶'],
        datasets: [{
            label: '2024ë…„ ìƒë°˜ê¸° ë°©ë¬¸ê° ìˆ˜ (ëª…)',
            data: [3211876, 1724529, 881646, 538131, 0], 
            backgroundColor: [
                'rgba(59, 130, 246, 0.6)',
                'rgba(139, 92, 246, 0.6)',
                'rgba(16, 185, 129, 0.6)',
                'rgba(245, 158, 11, 0.6)',
                'rgba(113, 113, 122, 0.6)'
            ],
            borderColor: [
                'rgba(59, 130, 246, 1)',
                'rgba(139, 92, 246, 1)',
                'rgba(16, 185, 129, 1)',
                'rgba(245, 158, 11, 1)',
                'rgba(113, 113, 122, 1)'
            ],
            borderWidth: 1
        }]
    };
    
    const ctx = document.getElementById('palaceVisitorsChart').getContext('2d');
    const palaceVisitorsChart = new Chart(ctx, {
        type: 'bar',
        data: visitorsData,
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { display: false },
                title: { display: false },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.x !== null) {
                                label += new Intl.NumberFormat('ko-KR').format(context.parsed.x) + ' ëª…';
                            }
                            if (context.label === 'ê²½í¬ê¶') {
                                return 'ê²½í¬ê¶: ë‹¤ë¥¸ ê¶ê³¼ ë‹¬ë¦¬ ê³µì›ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ ë³„ë„ ì§‘ê³„ê°€ ì–´ë ¤ì›€.';
                            }
                            return label;
                        }
                    }
                }
            },
            scales: {
                x: {
                    beginAtZero: true,
                    ticks: {
                        callback: function(value) {
                            return new Intl.NumberFormat('ko-KR', { notation: 'compact' }).format(value);
                        }
                    }
                }
            }
        }
    });

    const mobileMenu = document.getElementById('mobile-menu');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    function navigate(hash) {
        sections.forEach(section => {
            if ('#' + section.id === hash) {
                section.classList.add('active');
            } else {
                section.classList.remove('active');
            }
        });
        navLinks.forEach(link => {
            if (link.getAttribute('href') === hash) {
                link.classList.add('active-nav');
            } else {
                link.classList.remove('active-nav');
            }
        });
        mobileMenu.classList.add('hidden');
    }

    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const hash = e.target.getAttribute('href');
            window.location.hash = hash;
        });
    });

    window.addEventListener('hashchange', () => {
        navigate(window.location.hash || '#compare');
    });

    renderComparison('keyword');
    renderPalaceStories();
    renderPalaceDetail('gyeongbok');
    renderTimeline();
    
    navigate(window.location.hash || '#compare');
});

</script>
</body>
</html>